<div class="currency-component" fxLayout="column" fxLayoutAlign="start center" style="height: 100%">
  <mat-toolbar color="primary">
    <mat-toolbar-row>
      <button mat-icon-button [routerLink]="['/navigator', { outlets: { 'navigator': ['currency', coin] } }]">
        <mat-icon>arrow_back</mat-icon>
      </button>
      <span>{{ titile }}</span>
    </mat-toolbar-row>
  </mat-toolbar>

  <span class="full-width label full-width-label">{{ accountPh }}</span>
  <div class="full-width field" style="margin-bottom: 13px;">
    <mat-select [disabled]="(phase | async) !== phaseType.Creation" [(value)]="selected">
      <mat-option *ngIf="walletAddress | async" [value]="walletAddress | async">
        <span class="address">{{ walletAddress | async }}</span> ({{ balanceBtcUnconfirmed | async }} BTC)
      </mat-option>
    </mat-select>
  </div>

  <table class="full-width text-center two-columns">
    <tr>
      <td>
          <span class="label" style="margin-left: 5px;">BTC</span>
          <div class="field">
            <span>
              {{ balanceBtcUnconfirmed | async }}
            </span>
          </div>
        </td>
        <td>
          <span class="label" style="margin-left: 19px;">USD</span>
          <div class="field right">
            <span>
              {{ balanceUsdUnconfirmed | async }}
            </span>
          </div>
        </td>
    </tr>
  </table>

  <span class="full-width label full-width-label subtitle">Unconfirmed balance</span>

  <span class="full-width label full-width-label">{{ receiverPh }}</span>
  <mat-form-field class="full-width field" color="accent" style="margin-bottom: 13px;">
    <input matInput [formControl]="receiver">
  </mat-form-field>

  <table class="full-width text-center two-columns">
    <tr>
      <td>
        <span class="label" style="margin-left: 5px;">BTC</span>
        <div class="field">
          <span>
            <input matInput [formControl]="amount" type="number" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/"
               step="0.01">
          </span>
        </div>
      </td>
      <td>
        <span class="label" style="margin-left: 19px;">USD</span>
        <div class="field right">
          <span>
            <input matInput [value]="amountUsd | async" type="number" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/"
                 step="0.01" disabled>
          </span>
        </div>
      </td>
    </tr>
  </table>

  <div class="full-width" fxLayout="column" fxLayoutAlign="center center" style="position: fixed; bottom: 30px">

    <span style="font-family: 'Roboto-Medium'; font-size: 15px"
          *ngIf="(phase | async) === phaseType.Confirmation">{{ stAwaitConfirm }}</span>
    <mat-progress-bar mode="indeterminate" color="accent" style="width: 100%; margin: 5px 0"
                      *ngIf="(phase | async) === phaseType.Confirmation"></mat-progress-bar>

    <span *ngIf="(phase | async) === phaseType.Sending"
          style="font-family: 'Roboto-Medium'; font-size: 15px; display: inline-flex; align-items: center;" class="green-color">{{ stSigningResult }}
    </span>
    <mat-progress-bar mode="determinate" value="100" color="accent" style="width: 100%; margin: 5px 0"
                      *ngIf="(phase | async) === phaseType.Sending"></mat-progress-bar>

    <button *ngIf="(phase | async) === phaseType.Creation" mat-raised-button color="accent" class="width-button-full color" (click)="startSigning()" [disabled]="!(validatorObserver | async)">
      {{ stTransfer }}
    </button>
    <button *ngIf="(phase | async) === phaseType.Sending" mat-raised-button color="accent" class="width-button-full color" (click)="sendTransaction()">
      {{ stSend }}
    </button>
    <button *ngIf="(phase | async) === phaseType.Sending" mat-raised-button color="accent" class="width-button-full color" (click)="skipSending()">
      {{ stContinue }}
    </button>
  </div>
</div>

