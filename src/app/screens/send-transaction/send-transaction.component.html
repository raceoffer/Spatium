<div style="height: 5px;">
  <mat-progress-bar mode="indeterminate" *ngIf="load" color="accent" style="width: 100%"></mat-progress-bar>
</div>

<div fxLayout="column" fxLayoutAlign="start center">
  <span *ngIf="!isSecond">initiator</span>
  <span *ngIf="isSecond">Second</span>

  <mat-form-field class="full-width" color="accent">
    <mat-select placeholder="С какого кошелька">
      <mat-select-trigger *ngIf="initiatorWallet">
        <span class="address">{{initiatorWallet.address}}</span> ({{initiatorWallet.balance}} BTC)
      </mat-select-trigger>
      <mat-option *ngIf="initiatorWallet" [value]="initiatorWallet.address">
        <span class="address">{{initiatorWallet.address}}</span> ({{initiatorWallet.balance}} BTC)
      </mat-option>
    </mat-select>
  </mat-form-field>

  <table class="full-width">
    <tr>
      <td align="left" width="50%">
        <mat-form-field style="width: 120px;">
          <input matInput placeholder="BTC" [value]="balanceBtc" disabled>
        </mat-form-field>
      </td>
      <td align="right" width="50%">
        <mat-form-field style="width: 120px;">
          <input matInput placeholder="USD" [value]="balanceUsd" disabled>
        </mat-form-field>
      </td>
    </tr>
  </table>

  <mat-form-field class="full-width" color="accent">
    <input matInput placeholder="Адрес получателя" [value]="addressReceiver">
  </mat-form-field>

  <table class="full-width">
    <tr>
      <td align="left" width="50%">
        <mat-form-field style="width: 120px;" color="accent">
          <input matInput placeholder="BTC" [value]="sendBtc" type="number" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/"
                 step="0.01" (change)="changeSum('btc')">
        </mat-form-field>
      </td>
      <td align="right" width="50%">
        <mat-form-field style="width: 120px;" color="accent">
          <input matInput placeholder="USD" [value]="sendUsd" type="number" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/"
                 step="0.01" (change)="changeSum('usd')">
        </mat-form-field>
      </td>
    </tr>
  </table>


  <div style="height: 97px; width: 100% " fxLayout="column" fxLayoutAlign="center center">
    <span *ngIf="state==3" style="font-family: 'Roboto-Medium'; font-size: 15px; display: inline-flex; align-items: center;">
    <mat-icon>bluetooth</mat-icon>
    Транзакция создана
  </span>
    <button *ngIf="state==3" mat-raised-button color="accent" class="width-button" (click)="sendTransaction()">Отправить</button>
  </div>



  <div class="full-width" style="height: 20px; " fxLayout="row" fxLayoutAlign="center center">
    <span style="font-family: 'Roboto-Medium'; font-size: 15px"
          *ngIf="state==1">Требуется подтверждение вторым узлом</span>
    <mat-progress-bar mode="indeterminate" color="accent" style="width: 100%" *ngIf="state==2"></mat-progress-bar>
  </div>

  <button mat-raised-button color="accent" class="width-button" *ngIf="isSecond && state==1" (click)="stateChange()">Подтвердить
  </button>
  <button mat-raised-button color="accent" class="width-button" (click)="stateChange()">{{buttonText}}</button>
</div>
