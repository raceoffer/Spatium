<div class="connection-div" fxLayout="row" fxLayoutAlign=" center">
  <mat-icon class="list-icon">wifi</mat-icon>
  <span>WiFi/LAN synchronization</span>

  <span class="spacer"></span>

  <mat-slide-toggle
    mat-list-item
    class="custom-slide-toggle"
    [checked]="(toggled | async)"
    [disabled]="(listeningState | async) === stateType.Starting || (listeningState | async) === stateType.Stopping"
    (change)="toggle($event)">
  </mat-slide-toggle>
</div>

<div fxLayout="column" fxLayoutAlign="start stretch" *ngIf="(connectedDevice | async) !== null && (connectionState | async) === connectionStateType.Connected">
  <div fxLayout="row" fxLayoutAlign="start center" class="status">
    <span class="list-status">Connected to {{ (connectedDevice | async).name }}</span>
  </div>
</div>

<div fxLayout="column" fxLayoutAlign="start stretch"
     *ngIf="(toggled | async) && (serverReady | async) !== stateType.Started && (globalConnectionState | async) !== connectionStateType.Connected">
  <div fxLayout="row" fxLayoutAlign="start center" class="status">
    <span class="list-status" *ngIf="!(waiting | async)">Initialization</span>
    <span class="list-status" *ngIf="(waiting | async)">Waiting for network</span>
    <mat-spinner mode="indeterminate" diameter="13" color="accent"></mat-spinner>
  </div>
</div>

<div fxLayout="column" fxLayoutAlign="start stretch"
     *ngIf="(listeningState | async) == stateType.Stopping">
  <div fxLayout="row" fxLayoutAlign="start center" class="status">
    <span class="list-status">Stopping</span>
    <mat-spinner mode="indeterminate" diameter="13" color="accent"></mat-spinner>
  </div>
</div>

<div fxLayout="column" fxLayoutAlign="start stretch"
     *ngIf="(toggled | async) && (serverReady | async) === stateType.Started && (globalConnectionState | async) !== connectionStateType.Connected">
  <div fxLayout="row" fxLayoutAlign="start center" class="status">
    <span class="list-status">Awaiting connection</span>
  </div>
</div>

